// Firebase Security Rules for Gandi-Hub Academics Dashboard

// Firestore Rules
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // Allow anyone to read and write to all collections
    match /{document=**} {
      allow read, write: if true;
    }
    
    // Specific rules for collections
    match /grades/{gradeId} {
      allow read, write: if true;
    }
    
    match /assignments/{assignmentId} {
      allow read, write: if true;
    }
    
    match /events/{eventId} {
      allow read, write: if true;
    }
    
    match /education/{docId} {
      allow read, write: if true;
    }
    
    match /tasks/{taskId} {
      allow read, write: if true;
    }
    
    match /training/{trainingId} {
      allow read: if true;
      allow write: if true;
      
      // In production, use this to restrict to user's own data:
      // allow read, write: if request.auth != null && request.auth.uid == resource.data.userId;
    }
    
    match /users/{userId} {
      allow read, write: if true;
      
      // In production, restrict to owner:
      // allow read, write: if request.auth != null && request.auth.uid == userId;
    }
    
    // Test collection for permission checks
    match /permission_test/{docId} {
      allow read, write: if true;
    }
  }
}

// Storage Rules (if you're using Firebase Storage)
service firebase.storage {
  match /b/{bucket}/o {
    match /{allPaths=**} {
      allow read, write: if true;
    }
  }
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#007BFF">
    <title>Gandi-Hub - Rugby Sports Management</title>
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css">
    <link rel="stylesheet" href="../../css/common.css">
    <link rel="stylesheet" href="../../css/sidebar.css">
    <!-- Additional page-specific styles will be included here -->
    
    <!-- PWA Support -->
    <link rel="manifest" href="../../manifest.json">
    <link rel="apple-touch-icon" href="../../images/icon-192x192.png">
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <div id="sidebarContainer"></div>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Mobile Header -->
            <header class="mobile-header d-md-none">
                <button class="menu-toggle" id="menuToggle">
                    <i class="bi bi-list"></i>
                </button>
                <h1 class="mobile-title">Gandi-Hub</h1>
            </header>

            <!-- Page content will be injected here -->
            <div id="pageContent"></div>
        </main>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Load sidebar component
        fetch('../components/sidebar.html')
            .then(response => response.text())
            .then(html => {
                document.getElementById('sidebarContainer').innerHTML = html;
                initializeSidebar();
            });

        function initializeSidebar() {
            // Set active nav item based on current page
            const currentPage = window.location.pathname;
            document.querySelectorAll('.nav-link').forEach(link => {
                if (link.getAttribute('href') && currentPage.includes(link.getAttribute('href'))) {
                    link.classList.add('active');
                }
            });

            // Mobile menu toggle
            const menuToggle = document.getElementById('menuToggle');
            const sidebar = document.querySelector('.sidebar');
            
            if (menuToggle && sidebar) {
                menuToggle.addEventListener('click', () => {
                    sidebar.classList.toggle('show');
                    
                    // Create/remove overlay
                    let overlay = document.querySelector('.sidebar-overlay');
                    if (!overlay) {
                        overlay = document.createElement('div');
                        overlay.className = 'sidebar-overlay';
                        document.body.appendChild(overlay);
                    }
                    overlay.classList.toggle('show');
                    
                    // Close sidebar when clicking overlay
                    overlay.addEventListener('click', () => {
                        sidebar.classList.remove('show');
                        overlay.classList.remove('show');
                    });
                });
            }
        }
    </script>
    <!-- Additional page-specific scripts will be included here -->
</body>
</html>
